- uses: actions/checkout@v4

- uses: actions/setup-python@v5
  with:
    python-version: "3.11"
    cache: "pip"
    cache-dependency-path: requirements.txt

- name: Install dependencies
  run: |
    pip install -U pip
    pip install -r requirements.txt
    jupyter-book --version

- name: Build the book
  run: jupyter-book build .

- name: Ensure no Jekyll
  run: touch _build/html/.nojekyll

- name: Upload artifact
  uses: actions/upload-pages-artifact@v4
  with:
    path: _build/html

- name: Deploy to GitHub Pages
  id: deployment
  uses: actions/deploy-pages@v4
